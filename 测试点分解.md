# 测试点分解  

测试点是检查和验证一个设计的特征和功能。验证计划列出所有的特征以及其他需要验证功能项。测试需要去覆盖其中的每一个功能点。  

目的：从**全局**出发，用**简单**的**逻辑**语言描述**所有**要测试的功能。根据描述，书写测试点的验证代码。  

原则：  
**全局**以及**所有**表示测试要具有完备性，即覆盖所有的需求规格(feature)。  
**简单**表示低耦合，即一个测试点的功能要尽可能简单。  
**逻辑**表示测试点的描述要直接而明确，不同的测试点之间不存在矛盾之处。  

## 测试点分解方法

1. 等价类：输入值的子集，可以分为有效等价类和无效等价类。  
2. 边界值法：对输入的边界条件进行分析，得出边界值测试点。可划分为正常区域、正常边界区域、异常边界区域以及异常区域。一般取边界区域的±2。  
3. 正交矩阵法：对输入的各个条件正交，筛选出可靠的测试点。(如果输入信号特别多，又该如何处理？)  
4. 流程图分析法：根据不同的条件执行不同的处理，画出流程图，确认测试路径，一般用在定向测试中，有明确的输入输出关系。  
5. 随机变量法：对输入的值进行随机化。一般和等价类法联合使用，即在等价区域使用随机化的值。  
6. 错误推断法：依赖于经验、直觉做出简单的判断或者猜测，然后设计专用的测试点。  
7. 场景分析法：根据用户的场景进行测试点分解。  


## 可从如下视角出发，设计相关测试点  

1. 从边界出发，需要对相关接口进行验证。这种类型的验证通常有VIP，如APB以及AXI等。  
2. 从功能出发，这是验证功能模块设计是否正确的重要工作。该视角主要根据[测试点分解方法](#测试点分解方法)
   1. 从输入出发：根据功能模块，设计相应的输入数据类型，设计满足一定关系的数据类型。
   2. 从输出出发，根据场景，设计满足该情形的输入数据。  
3. 从内部状态寄存器出发，该种类型的寄存器不被外界感知。当然存在一些内部状态寄存器在大部分情况下不影响电路功能的情形，在完备性的情况下，我们需要最终检验相关的寄存器。精准性高：在每一拍，比较每一个寄存器。精准性低：可在仿真结束后，比较每一个寄存器。  
4. 从全局的控制信息出发：时钟、复位等信号。这些信号是常规套路。  
5. 从控制状态寄存器(CSR)出发  
   1. 设计属性，该验证一般都有套路。这种是从配置该状态寄存器的时候出发。
   2. 涉及功能。比如状态寄存器初始是某个值。随后写0或者读0后，在进行正常的运算，此时寄存器的值是否符合要求。**此时控制状态寄存器的验证类似于上述第三条的内部状态寄存器。**  

[UVM学习网站](https://www.chipverify.com/)  
[验证计划](https://www.linkedin.com/pulse/writing-verification-testplan-module-level-design-mangesh-thakare)  

书籍：《verification plans：the five-day verification strategy for modern hardware verification languages》  
书籍：ASIC/SoC Functional Design Verification-A Comprehensive Guide to Technologies and Methodologies  


